---
title: Personalice los metadatos de entidad (Common Data Service) | Microsoft Docs
description: Las entidades están definidas por metadatos. Definiendo o cambiando estos metadatos, puede controlar las capacidades de una entidad.
ms.custom: ''
ms.date: 10/31/2018
ms.reviewer: ''
ms.service: powerapps
ms.topic: article
author: mayadumesh
ms.author: jdaly
manager: ryjones
search.audienceType:
- developer
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 7be52e8fb5eae18e709ab10765a0684b5a65ef81
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/04/2019
ms.locfileid: "2753004"
---
# <a name="customize-entity-metadata"></a>Personalizar metadatos de entidad

Las entidades están definidas por metadatos. Definiendo o cambiando estos metadatos, puede controlar las capacidades de una entidad. Para ver los metadatos de la organización, use el explorador de metadatos. [Descargar el explorador de metadatos](https://download.microsoft.com/download/8/E/3/8E3279FE-7915-48FE-A68B-ACAFB86DA69C/MetadataBrowser_3_0_0_5_managed.zip).

Más información: [Examinar los metadatos para su organización](browse-your-metadata.md)  
  
 En este tema se explica cómo trabajar con entidades mediante programación. Consulte [Crear o editar entidades (tipos de registros)](/dynamics365/customer-engagement/customize/create-edit-entities) para obtener información sobre cómo trabajar con entidades en la aplicación.  

Se pueden crear entidades con el servicio de organización o la API web. La siguiente información se puede aplicar a ambos.

- Con el servicio de la organización usará la clase <xref:Microsoft.Xrm.Sdk.Metadata.EntityMetadata>. Más información: [Crear una entidad personalizada](/dynamics365/customer-engagement/developer/org-service/create-custom-entity) y [Recuperar, actualizar y eliminar entidades](/dynamics365/customer-engagement/developer/org-service/retrieve-update-delete-entities)
- Con la API web usará el EntityType <xref:Microsoft.Dynamics.CRM.EntityMetadata>. Más información: [Crear y actualizar definiciones de entidad mediante la API web](/dynamics365/customer-engagement/developer/webapi/create-update-entity-definitions-using-web-api).
 
<a name="BKMK_EntityMetadataMessages"></a>

## <a name="entity-metadata-operations"></a>Operaciones de metadatos de la entidad
Cómo trabaja con los metadatos de la entidad depende del servicio que utilice.

Dado que la API web es un extremo RESTful, se usa una forma diferente para crear, recuperar, actualizar y eliminar metadatos. Utilice los verbos `POST`, `GET`, `PUT` y `DELETE` de HTTP para trabajar con entitytypes de metadatos. Más información: [Crear y actualizar definiciones de entidad mediante la API web](/dynamics365/customer-engagement/developer/webapi/create-update-entity-definitions-using-web-api).

Una excepción es <xref href="Microsoft.Dynamics.CRM.RetrieveMetadataChanges?text=RetrieveMetadataChanges Function" /> que proporciona una forma de crear una consulta de metadatos y seguir los cambios a lo largo del tiempo. 

Si trabaja con el servicio de la organización, utilice la clase <xref:Microsoft.Xrm.Sdk.Messages.RetrieveMetadataChangesRequest>. Esta clase contiene los datos necesarios para recuperar una colección de registros de metadatos que satisfaga los criterios especificados. <xref:Microsoft.Xrm.Sdk.Messages.RetrieveMetadataChangesResponse> devuelve un valor de marca de tiempo que puede usar con esta solicitud en un momento posterior para obtener información sobre cómo han cambiado los metadatos desde la última solicitud.
   

|                                                                                                                                                                          Mensaje                                                                                                                                                                           |                                               API web                                                |                           Ensamblado del SDK                           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------|------------------------------------------------------------------|
|                                                                                                                                                                        CreateEntity                                                                                                                                                                        |                         Use una solicitud POST para enviar datos para crear una entidad.                         |      <xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>       |
|                                                                                                                                                                        DeleteEntity                                                                                                                                                                        |                              Usar una solicitud DELETE para eliminar una entidad.                               |      <xref:Microsoft.Xrm.Sdk.Messages.DeleteEntityRequest>       |
|                                                                                                                                                                    RetrieveAllEntities                                                                                                                                                                     |                               Usar una solicitud GET para recuperar datos de la entidad.                               |   <xref:Microsoft.Xrm.Sdk.Messages.RetrieveAllEntitiesRequest>   |
|                                                                                                                                                                       RetrieveEntity                                                                                                                                                                       |          <xref href="Microsoft.Dynamics.CRM.RetrieveEntity?text=RetrieveEntity Function" />          |     <xref:Microsoft.Xrm.Sdk.Messages.RetrieveEntityRequest>      |
|                                                                                                                                                                        UpdateEntity                                                                                                                                                                        |                                Usar una solicitud PUT para actualizar una entidad.                                |      <xref:Microsoft.Xrm.Sdk.Messages.UpdateEntityRequest>       |
| RetrieveMetadataChanges</br>Se usa junto objetos en el espacio de nombres de <xref:Microsoft.Xrm.Sdk.Metadata.Query> para crear una consulta para recuperar y detectar con eficiencia cambios en metadatos específicos. Más información: [Recuperar y detectar cambios en metadatos](/dynamics365/customer-engagement/developer/retrieve-detect-changes-metadata). | <xref href="Microsoft.Dynamics.CRM.RetrieveMetadataChanges?text=RetrieveMetadataChanges Function" /> | <xref:Microsoft.Xrm.Sdk.Messages.RetrieveMetadataChangesRequest> |

<a name="BKMK_CreationOptions"></a>   
## <a name="options-available-when-you-create-a-custom-entity"></a>Opciones disponibles cuando se crea una entidad personalizada  
 La siguiente tabla muestra las opciones disponibles cuando se crea una entidad personalizada. Solo se pueden establecer estas propiedades al crear una entidad personalizada.  

|Opción|Descripción|  
|------------|-----------------|  
|**Crear como actividad personalizada**|Puede crear una entidad que es una actividad asignándole la propiedad `IsActivity` al usar el servicio de la organización o la API web respectivamente. Para obtener más información, consulte [Personalizar actividades en Dynamics 365](custom-activities.md).|  
|**Nombres de entidad**|Existen dos tipos de nombres, y ambos deben tener un prefijo de personalización:<br /><br /> `LogicalName`: nombre que es la versión del nombre de la entidad que se establece en letras minúsculas.<br /><br /> `SchemaName`: nombre que se usará para crear las tablas de base de datos de la entidad. Este nombre puede incluir mayúsculas y minúsculas. El tipo de letra usado establece el nombre del objeto generado para la programación con establecimiento inflexible de tipos o cuando se utiliza el extremo REST.<br /><br /> **Nota**: si el nombre lógico es distinto del nombre de esquema, este reemplazará el valor que se estableció para el nombre lógico.<br /><br /> Cuando se crea una entidad en la aplicación en el contexto de una solución específica, el prefijo de personalización usado es el establecido para el `Publisher` de la solución. Cuando se crea una entidad mediante programación, se puede establecer el prefijo de personalización en una cadena que tenga entre dos y ocho caracteres de longitud, todos alfanuméricos, y que empiece por una letra. No puede comenzar por “mscrm”. Se recomienda usar el prefijo de personalización definido por el editor con el que está asociada la solución, pero no es un requisito obligatorio. Se debe incluir un carácter de subrayado entre el prefijo de personalización y el nombre de esquema o nombre lógico.|  
|**Propiedad**|Use la propiedad `OwnershipType` para establecer este valor. Use la enumeración <xref:Microsoft.Xrm.Sdk.Metadata.OwnershipTypes> o el EnumType <xref:Microsoft.Dynamics.CRM.OwnershipTypes> para establecer el tipo de propiedad de la entidad. Los únicos valores válidos para entidades personalizadas son `OrgOwned` o `UserOwned`. Para obtener más información, consulte [Propiedad de entidad](/dynamics365/customer-engagement/developer/introduction-entities#EntityOwnership).|  
|**Atributo principal**|Con el servicio de la organización, use la propiedad <xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest>.<xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest.PrimaryAttribute> para establecerlo.<br /><br />Con la API web, el JSON que define la entidad debe incluir <xref:Microsoft.Dynamics.CRM.StringAttributeMetadata> con la propiedad `IsPrimaryName` establecida en true.<br /><br /> En ambos casos, el atributo de cadena debe tener el formato `Text`. El valor de este atributo es el que aparece en una búsqueda de entidades relacionadas. Por lo tanto, el valor del campo debe representar un nombre para el registro de entidad.|  

<a name="BKMK_OptInOptions"></a>

## <a name="enable-entity-capabilities"></a>Habilitación de capacidades de entidad  
 La siguiente tabla muestra las capacidades de entidad. Puede configurar estas capacidades al crear una entidad o puede habilitarlas más adelante. Una vez habilitadas, estas capacidades no se pueden deshabilitar.  

|Capacidad|Descripción|  
|----------------|-----------------|  
|**Flujos de proceso de negocio**|Establezca `IsBusinessProcessEnabled` como true para habilitar la entidad para los flujos de proceso de negocio.|  
|**Notas**| Para crear una relación entre entidades con la entidad `Annotation` y habilitar la inclusión de un área **Notas** en el formulario de entidad. Al incluir **Notas**, también puede agregar datos adjuntos a los registros. <br /><br />Con el servicio de la organización, utilice la propiedad <xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest> o <xref:Microsoft.Xrm.Sdk.Messages.UpdateEntityRequest> `HasNotes` <br /><br />Con la API web, establezca la propiedad <xref:Microsoft.Dynamics.CRM.EntityMetadata>.`HasNotes` .|  
|**Actividades**|Para crear una relación entre entidades con la entidad `ActivityPointer` para que todas las entidades de tipo de actividad se puedan asociar con esta entidad.<br /><br /> Con el servicio de la organización, utilice la propiedad <xref:Microsoft.Xrm.Sdk.Messages.CreateEntityRequest> o <xref:Microsoft.Xrm.Sdk.Messages.UpdateEntityRequest> `HasActivities`. <br /><br /> Con la API web, establezca la propiedad <xref:Microsoft.Dynamics.CRM.EntityMetadata>.`HasActivities` .| 
|**Conexiones**|Para habilitar la creación de registros de conexión para asociar esta entidad con otras entidades de conexión establezca el valor de la propiedad `IsConnectionsEnabled.Value` en true.|  
|**Colas**|Use la propiedad `IsValidForQueue` para agregar compatibilidad para colas. Si habilita esta opción, también puede establecer la propiedad `AutoRouteToOwnerQueue` para mover automáticamente registros a la cola predeterminada del propietario cuando se crea o asigna un registro de este tipo.|  
|**Correo electrónico**|Establezca la propiedad `IsActivityParty` para poder enviar correo electrónico a una dirección de correo electrónico en este tipo de registro.|  

<a name="BKMK_OpenOptions"></a>   

## <a name="editable-entity-properties"></a>Propiedades de entidad editables  
 En la siguiente tabla se muestran las propiedades de entidad que puede editar. A menos que una propiedad administrada deshabilite estas opciones, puede actualizarlas en cualquier momento.  


|                                        Propiedad                                        |                                                                                                                                                                                                     Descripción                                                                                                                                                                                                     |
|----------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                 **Permitir creación rápida**                                 |                                                                                   Use `IsQuickCreateEnabled` para habilitar los formularios de creación rápida en la entidad. Para poder usar formularios de creación rápida primero debe crear y publicar uno.<br /> **Nota**:<br /> Las entidades de actividad no admiten formularios de creación rápida.                                                                                   |
|                                    **Equipos de acceso**                                    |                                                                                                                                Use `AutoCreateAccessTeams` para habilitar la entidad para los equipos de acceso. Consulte [Acerca de las plantillas de equipo](/dynamics365/customer-engagement/admin/about-team-templates) para obtener más información.                                                                                                                                |
|                                   **Imagen principal**                                    |                                                                                             Si una entidad tiene un atributo de imagen, puede habilitar o deshabilitar su visualización en la aplicación mediante `PrimaryImageAttribute`. Para obtener más información, consulte [Imágenes de entidad](/dynamics365/customer-engagement/developer/introduction-entities#BKMK_EntityImages).                                                                                             |
|                                **Cambiar texto para mostrar**                                 |                                                                                             La propiedad administrada `IsRenameable` impide que se cambie el nombre para mostrar en la aplicación. Sin embargo, puede cambiar mediante programación las etiquetas actualizando las propiedades `DisplayName` y `DisplayCollectionName`.                                                                                             |
|                            **Editar la descripción de la entidad**                             |                                                                                                         La propiedad administrada `IsRenameable` impide que se cambie la descripción de la entidad en la aplicación. Sin embargo, puede cambiar mediante programación las etiquetas actualizando la propiedad `Description`.                                                                                                         |
|                            **Habilitar su uso sin conexión**                            |                                                                                                          Use `IsAvailableOffline` para habilitar o deshabilitar la capacidad de Dynamics 365 for Microsoft Office Outlook con usuarios sin conexión de acceso para desconectar los datos de esta entidad.                                                                                                           |
|                          **Habilitar el panel de lectura de Outlook**                           | **Nota**:<br /><br /> La propiedad `IsReadingPaneEnabled` es solo para uso interno.<br /><br /> Para habilitar o deshabilitar la capacidad de los usuarios de Office Outlook de ver los datos de esta entidad, use el panel de lectura de Outlook. Debe establecer esta propiedad en la aplicación. |
|                                 **Habilitar la combinación de correspondencia**                                  |                                                                                                                 Use `IsMailMergeEnabled` para habilitar o deshabilitar la capacidad de generar documentos combinados de Office Word que usen datos de esta entidad.                                                                                                                  |
|                             **Habilitar detección de duplicados**                             |                                                                                                       Use `IsDuplicateDetectionEnabled` para habilitar o deshabilitar la detección de duplicados de la entidad. Para obtener más información, consulte [Detección de datos duplicados en Dynamics 365](/dynamics365/customer-engagement/developer/detect-duplicate-data-for-developers).                                                                                                        |
|                           **Habilitar la integración de SharePoint**                            |                                                          Use `IsDocumentManagementEnabled` para habilitar o deshabilitar la integración del servidor de SharePoint para la entidad. Para obtener más información, consulte [Habilitar la administración de documentos para entidades](/dynamics365/customer-engagement/developer/integration-dev/enable-document-management-entities).                                                          |
| **Habilitar Dynamics 365 for phones** |                                                                                                                      Use `IsVisibleInMobile` para habilitar o deshabilitar la capacidad de los usuarios de Dynamics 365 for phones de ver los datos de esta entidad.                                                                                                                       |
|              **Dynamics 365 for tablets**               |                             Use `IsVisibleInMobileClient` para habilitar o deshabilitar la capacidad de los usuarios de Dynamics 365 for tablets de ver los datos de esta entidad.<br /><br /> Si la entidad está disponible para Dynamics 365 for tablets puede usar `IsReadOnlyInMobileClient` para especificar que los datos del registro sean solo de lectura.                              |
|                                  **Habilitar auditoría**                                   |                                                                                                              Use `IsAuditEnabled` para habilitar o deshabilitar la auditoría para la entidad. Para obtener más información, vea [Configurar entidades y atributos para auditoría](configure-entities-attributes-auditing.md).                                                                                                              |
|                        **Cambiar áreas que muestran la entidad**                        |                                                                                                                                                  Puede controlar dónde aparecen las cuadrículas de entidad en el panel de navegación de la aplicación. Esto lo controla el mapa del sitio.                                                                                                                                                   |
|                              **Agregar o quitar atributos**                              |                                                                                     Siempre que la propiedad administrada `CanCreateAttributes.Value` permita crear atributos, puede agregar atributos a la entidad. Para obtener más información, consulte [Personalizar metadatos de atributos de entidad](/dynamics365/customer-engagement/developer/customize-entity-attribute-metadata).                                                                                      |
|                                **Agregar o eliminar productos**                                 |                                                                                                                                Siempre que la propiedad administrada `CanCreateViews.Value` permita crear vistas, puede usar la entidad `SavedQuery` para crear vistas para una entidad.                                                                                                                                 |
|                                **Agregar o eliminar gráficos**                                |              Siempre que la propiedad administrada `CanCreateCharts.Value` permita la creación de gráficos y la propiedad de la entidad `IsEnabledForCharts` sea true, puede utilizar la [Entidad SavedQueryVisualization](/reference/entities/savedqueryvisualization.md) para crear gráficos para una entidad. Para obtener más información, consulte [Ver los datos con visualizaciones (gráficos)](/dynamics365/customer-engagement/developer/customize-dev/view-data-with-visualizations-charts).              |
|                         **Agregar o eliminar relaciones entre entidades**                         |                                                                                        Hay varias propiedades administradas que controlan los tipos de relaciones entre entidades que puede crear para una entidad. Para obtener más información, consulte [Personalizar metadatos de relaciones entre entidades](/dynamics365/customer-engagement/developer/customize-entity-relationship-metadata).                                                                                        |
|                                    **Cambiar iconos**                                    |                                                                                                                                             Puede cambiar los iconos usados para entidades personalizadas. Para obtener más información, consulte [Modificar iconos de entidad](/dynamics365/customer-engagement/developer/modify-icons-entity).                                                                                                                                             |
|                        **Puede cambiar la relación jerárquica**                        |                                                                                        `CanChangeHierarchicalRelationship.Value` controla si el estado jerárquico de las relaciones entre entidades incluido en sus soluciones administradas se puede cambiar. Más información:                                                                                         |
  
<a name="BKMK_MessagesForCustomEntites"></a>
 
## <a name="messages-supported-by-custom-entities"></a>Mensajes admitidos por las entidades personalizadas  
 Las entidades personalizadas admiten los mismos mensajes base que las entidades del sistema. El conjunto de mensajes disponible depende de si la entidad personalizada es propiedad del usuario o de la organización. Para obtener más información, consulte [Acciones de registros de entidad](/dynamics365/customer-engagement/developer/introduction-entities#ActionsOnEntityRecords).  
  
### <a name="see-also"></a>Vea también  
[Usar la API web con metadatos](webapi/use-web-api-metadata.md)

[Trabajar con metadatos usando el servicio de la organización](org-service/work-with-metadata.md)